somnath.jagadale@gmail.com
What is virtual function in C++ Language?
In C++, a virtual function is a member function of a class that is declared as "virtual." This tells the C++ compiler that the function can be overridden by a derived class, allowing for polymorphism.

When a virtual function is called through a base class pointer or reference, the program will determine at runtime which version of the function to call, based on the actual type of the object being pointed to or referenced. This is known as dynamic binding or late binding.

Here is an example:

Copy code
class Shape {
    public:
        virtual double area() = 0;
};

class Rectangle: public Shape {
    public:
        double width, height;
        double area() { return width * height; }
};

class Circle: public Shape {
    public:
        double radius;
        double area() { return 3.14 * radius * radius; }
};

int main() {
    Shape *s1 = new Rectangle();
    s1->width = 10;
    s1->height = 5;
    cout << "Area of rectangle: " << s1->area() << endl;

    Shape *s2 = new Circle();
    s2->radius = 5;
    cout << "Area of circle: " << s2->area() << endl;
}
In this example, the area() function is declared as virtual in the base class Shape, which allows derived classes Rectangle and Circle to override it. When the area() function is called through a base class pointer, the program will determine at runtime which version of the function to call, based on the actual type of the object being pointed to.

It's worth noting that if the base class function is not virtual, the function of the base class is called even if the object's type is the derived class.

You can also use the keyword override to specify that a function is intended to override a virtual function from a base class, this way the compiler will give you an error if the base class does not have a virtual function with the same signature.


2. why C++ don't have virtual constructors?

C++ does not have virtual constructors because of a concept called "object slicing."

Object slicing is a phenomenon that occurs when a derived class object is assigned to a variable of its base class type. When this happens, the derived class object is "sliced" down to the size of the base class, and any members or methods that are specific to the derived class are lost.

If C++ had virtual constructors, the derived class object would be constructed as a base class object, and then "sliced" down to the size of the base class, losing any members or methods that are specific to the derived class. This would make it impossible to create objects of the derived class type.

Instead, C++ uses a feature called "virtual inheritance" to achieve polymorphic behavior with constructors. Virtual inheritance allows a class to inherit from a base class multiple times, with the most derived class "winning" when it comes to initialization.

Additionally, C++ also uses factory patterns, which is a design pattern that defines an interface for creating an object, but lets subclasses decide which class to instantiate.

It's worth noting that C++11 introduced the keyword override which allows you to specify that a function is intended to override a virtual function from a base class, this way the compiler will give you an error if the base class does not have a virtual function with the same signature.






